<?xml version="1.0"?>
<Denemo>
  <merge>
    <title>A Denemo Keymap</title>
    <author>AT, JRR, RTS</author>
    <map>
      <row>
        <after>ConvertMidiForBass</after>
        <action>PitchShift</action>
        <scheme>;;;PitchShift
(let ((val (d-GetUserInput (_ "Pitch Change") (_ "Give amount =/-") "10")))
(if val
	(begin 
		(set! val (string-&gt;number val))
		(set! val (+ 66 val))
		(if (&gt; val 127)
			(set! val 127))
		(if (&lt; val 0)
			(set! val 0))
		(set! val (number-&gt;string val))
		(let loop ((channel 0))
			(if (&lt; channel 16)
				(let ((chan (number-&gt;string  (+ #xE0 channel))))
					(d-OutputMidiBytes (string-append chan " 0x00 " val))
					(loop (+  channel 1))))))))
</scheme>
        <_label>Shift Pitch</_label>
        <_tooltip>Outputs a pitch bend signal to the synthesizer for the value +/- 64 given.</_tooltip>
      </row>
    </map>
  </merge>
</Denemo>
