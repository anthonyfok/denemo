<?xml version="1.0"?>
<Denemo>
  <merge>
    <title>A Denemo Keymap</title>
    <author>AT, JRR, RTS</author>
    <map>
      <row>
        <after>MouseOrMidiDrivenPlayback</after>
        <action>RecordAndConvert</action>
        <scheme>;;;RecordAndConvert
(d-CreateIntro)
(define (DenemoPlay)

  (d-Play "
  (let ()
  (define response #f)
  (d-PopPosition)
  
  (set! response (d-GetUserInput\"Recording Finished\" \"Convert to notation?\" \"y\"))
  
  (if (equal? response \"y\")
 	 (d-ConvertMidiForBass))
  (define (DenemoPlay) (DefaultDenemoPlay))
  )"))
  (d-PushPosition)
  (d-MidiRecord)
</scheme>
        <label>Record and Convert</label>
        <tooltip>Starts playing the score and recording from MIDI in, When finished it converts the recording to notation.</tooltip>
      </row>
    </map>
  </merge>
</Denemo>
