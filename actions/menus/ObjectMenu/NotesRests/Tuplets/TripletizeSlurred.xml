<?xml version="1.0" encoding="UTF-8"?>
<Denemo>
  <merge>
    <title>A Denemo Keymap</title>
    <author>AT, JRR, RTS</author>
    <map>
      <row type="scheme">
        <after>Tripletize</after>
        <action>TripletizeSlurred</action>
        <_label>Triplet-ize (Slurred)</_label>
        <_tooltip>Turns the note at or before the cursor into a triplet of the same total duration, slurring the triplet.</_tooltip>
        <scheme>;;;TripletizeSlurred
(if (Appending?)
	(d-MoveCursorLeft))
(if (Note?)
	(begin
		(d-StartTriplet)
		(d-Diminish)
		(d-SetMark)
		(d-Copy)
		(d-ToggleBeginSlur)
		(d-MoveCursorRight)
		(d-Paste)
		(d-Paste)
		(d-ToggleEndSlur)
		(d-EndTuplet)
		)
	(d-WarningDialog (_ "This command needs a note or chord to turn into a triplet")))
</scheme>
      </row>
    </map>
  </merge>
</Denemo>
