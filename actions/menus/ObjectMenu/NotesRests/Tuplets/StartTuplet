<?xml version="1.0"?>
<Denemo>
  <merge>
    <title>A Denemo Keymap</title>
    <author>AT, JRR, RTS</author>
    <map>
      <row>
        <after>StartTriplet</after>
        <action>StartTuplet</action>
        <scheme> ;;;StartTuplet
( let ((top #f) (bottom #f) (DirectiveText #f) (DirectiveDisplay #f) )
(set! top (d-GetUserInput "Enter tuplet numerator " "Enter the fraction to multiply the duration by,\nnumerator first. E.g., for triplets, enter 2, then 3. \nNumerator:" "2" ) )
(set! bottom (d-GetUserInput "Enter tuplet denominator" "Enter the fraction's denominator:" "3" ) )
(d-Directive-standalone "Tuplet")
(d-DirectivePut-standalone-minpixels "Tuplet" 20)
(set! DirectiveText (string-append "\\times " top "/" bottom " { ") )	
(set! DirectiveDisplay (string-append "~" bottom "/" top) )
(d-DirectivePut-standalone-postfix "Tuplet" DirectiveText)
(d-DirectivePut-standalone-display "Tuplet" DirectiveDisplay )
(d-MoveCursorRight)
(d-RefreshDisplay)) 
</scheme>
        <label>Start Arbitrary Tuplet</label>
        <tooltip>Asks for ratio of tuplet and then puts in a start for that. Use EndTuplet command after entering tuplet notes. Note that the Denemo display will not automatically group the tuplet, but it will print with expected beaming etc.</tooltip>
      </row>
    </map>
  </merge>
</Denemo>
