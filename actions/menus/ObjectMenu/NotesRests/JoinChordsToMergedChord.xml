<?xml version="1.0"?>
<Denemo>
  <merge>
    <title>A Denemo Keymap</title>
    <author>AT, JRR, RTS</author>
    <map>
      <row>
        <after>JoinChords</after>
        <action>JoinChordsToMergedChord</action>
        <scheme>(if (d-MarkStatus)
	(let ()
		(define basedurationlist (duration::SplitTicksToBaseDurations (duration::GetSelectionDurationInTicks)))
		(define newchord (concatenate (MapToSelection ANS::GetChordNotes Note?)))
		(d-DeleteSelectionLeaveEmpty)
		(duration::InsertBaseDurationList basedurationlist  (delete-duplicates newchord))))	

</scheme>
        <_label>Join music objects to new chord</_label>
        <_tooltip>Joins all notes, chords and rests in the selection and inserts all selected notes as chord. May create tied notes.</_tooltip>
      </row>
    </map>
  </merge>
</Denemo>
