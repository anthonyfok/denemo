<?xml version="1.0"?>
<Denemo>
  <merge>
    <title>A Denemo Keymap</title>
    <author>AT, JRR, RTS</author>
    <map>
      <row type="scheme">
        <after>TabStaff</after>
        <action>ChordStaff</action>
        <scheme>;;;;;ChordStaff
(let ((tag "ChordStaff"))
(if (and ChordStaff::params (d-Directive-voice? tag))
	(begin (d-InfoDialog "Use the Staffs/Voices Chord Names command to turn off the typestting of chord names for this staff"))
	(begin
		(if (d-Directive-staff? tag)
			(d-DirectiveDelete-staff tag)
			(begin
				(ToggleDirective "staff" "prefix" tag ""(logior  DENEMO_OVERRIDE_LILYPOND  DENEMO_OVERRIDE_AFFIX))
				(ToggleDirective "staff" "postfix" tag ""(logior  DENEMO_OVERRIDE_LILYPOND  DENEMO_OVERRIDE_AFFIX))))
		(d-DirectiveDelete-staff "InstrumentName")
		(ToggleDirective "voice" "prefix" tag "\\new ChordNames \n"  DENEMO_OVERRIDE_LILYPOND)
		(ToggleDirective "clef" "postfix" tag "\n" DENEMO_OVERRIDE_LILYPOND)
		(if (d-Directive-clef? tag) (d-DirectivePut-clef-display tag "     X"))
		(ToggleDirective "keysig" "postfix" tag "\n" DENEMO_OVERRIDE_LILYPOND  DENEMO_OVERRIDE_AFFIX)
		(ToggleDirective "timesig" "postfix" tag "\n" DENEMO_OVERRIDE_LILYPOND))))
</scheme>
        <_label>Chord Symbols</_label>
        <_tooltip>Typesets the music on this staff as chord symbols. Normally you will use this on a voice, so that the chord symbols print on the melody staff.</_tooltip>
      </row>
    </map>
  </merge>
</Denemo>
