<?xml version="1.0" encoding="UTF-8"?>
<Denemo>
  <merge>
    <title>A Denemo Keymap</title>
    <author>AT, JRR, RTS</author>
    <map>
      <row type="scheme">
        <after>LineBreak</after>
        <action>AllowLineBreak</action>
        <scheme>;;AllowLineBreak
 (let ((tag "AllowLineBreak"))
 (if (d-Directive-standalone?  tag)
	(d-InfoDialog (_ "This sign allows a Line Break. The bar can be broken across a line at this point. Delete using Del or Backspace key."))
	(begin
		(if (d-IsVoice)
			(begin
				(d-WarningDialog (_ "The cursor is on a voice. Put line breaks in the main staff that the voice belongs to.")))
 			(let ((choice #f))
				(d-DirectivePut-standalone tag)
				(d-DirectivePut-standalone-postfix tag "\\bar \"\"")
				(d-DirectivePut-standalone-graphic tag "\n|\nDenemo\n24")
				(d-DirectivePut-standalone-minpixels tag 10)	
				(d-RefreshDisplay)	
				(SetDirectiveConditional)
				(d-SetSaved #f)
				)))))
</scheme>
        <_label>Allow Line Break</_label>
        <_tooltip>Permits the typesetter to break the line at this point.</_tooltip>
      </row>
    </map>
  </merge>
</Denemo>
