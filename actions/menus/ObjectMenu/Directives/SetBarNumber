<?xml version="1.0"?>
<Denemo>
  <merge>
    <title>A Denemo Keymap</title>
    <author>AT, JRR, RTS</author>
    <map>
      <row>
        <action>SetBarNumber</action>
        <scheme>(let ()
(define result (d-GetUserInput (_ "Change Barnumber in typeset score") (_ "Please enter a number to set the current bar number. The typeset score will continue to count up from there.") "1"))
	(if result 
	(let ((barnumberstring (string-append "\\set Score.currentBarNumber = #" result ) ))
		(d-Directive-standalone "BarNumber")
		(d-DirectivePut-standalone-display "BarNumber" (string-append (_ "BarNumber = ") result))
		(d-DirectivePut-standalone-minpixels  "BarNumber"  30)
		(d-DirectivePut-standalone-postfix "BarNumber"  barnumberstring )
		(d-RefreshDisplay)
	)
	#f  ; cancel
	)
)</scheme>
        <label>(Print) Set Bar Number</label>
        <tooltip>Enter a number to change the bar number in the typeset score. The printout will continue to count up from there.</tooltip>
      </row>
    </map>
  </merge>
</Denemo>
