<?xml version="1.0"?>
<Denemo>
  <merge>
    <title>A Denemo Keymap</title>
    <author>AT, JRR, RTS</author>
    <map>
      <row>
        <after>InsertKey</after>
        <action>HideKeysig</action>
        <scheme>;;;HideKeysig
;(let ((lilycontext (d-GetOption  (string-append "Score" stop "Staff" stop "Voice" stop))))
(let ((lilycontext "Staff"))
(if lilycontext
	(begin 
		(if (d-Directive-keysig? "Hide")
 			(d-DirectiveDelete-keysig "Hide")
 			(begin
 				(d-DirectivePut-keysig-prefix "Hide"  (string-append  "\\once \\override " lilycontext ".KeySignature #'stencil = ##f"  ))
 				(d-DirectivePut-keysig-gy "Hide" -10)
 				(d-DirectivePut-keysig-graphic "Hide" "\n&#x22C2;\nDenemo\n24")))
 			(d-SetSaved #f))))
 			</scheme>
        <label>(Print) Hide</label>
        <tooltip>On printing, omit the key signature change at the cursor, or the initial key signature if the cursor is not on a key signature change.</tooltip>
      </row>
    </map>
  </merge>
</Denemo>
