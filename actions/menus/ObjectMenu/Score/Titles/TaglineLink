<?xml version="1.0"?>
<Denemo>
  <merge>
    <title>A Denemo Keymap</title>
    <author>AT, JRR, RTS</author>
    <map>
      <row>
        <after>ScoreTagline</after>
        <action>TaglineLink</action>
        <scheme>;;;TaglineLink
 (let ((tag "TaglineLink"))
 (define link (d-GetUserInput "Tagline with Link" "Give URL to link to" "http://www.denemo.org"))
 (define text (d-GetUserInput "Tagline with Link" "Give text for tagline" "Source file at http://denemo.org"))
 (if link
 	(begin
		 (if (not text) 
 		(set! text "Link"))
		 (d-DirectivePut-scoreheader-override tag (logior DENEMO_OVERRIDE_TAGEDIT DENEMO_OVERRIDE_GRAPHIC))
  		(d-DirectivePut-scoreheader-display tag text)
  		(d-DirectivePut-scoreheader-postfix tag (string-append "tagline = \\markup { \\with-url #\"" link "\" \"" text "\"}\n"))
		(d-SetSaved #f))))
</scheme>
        <label>Tagline with Link</label>
        <tooltip>Creates a tagline with a link in PDF output.</tooltip>
      </row>
    </map>
  </merge>
</Denemo>
