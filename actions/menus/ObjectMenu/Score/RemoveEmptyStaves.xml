<?xml version="1.0"?>
<Denemo>
  <merge>
    <title>A Denemo Keymap</title>
    <author>AT, JRR, RTS</author>
    <map>
      <row>
        <after>LilyPondDefinition</after>
        <action>RemoveEmptyStaves</action>
        <scheme>;;RemoveEmptyStaves
(let ((tag "RemoveEmptyStaves"))
(d-SetSaved #f)
(if (d-Directive-layout? tag)
	(d-DirectiveDelete-layout tag)
	(begin
		(d-DirectivePut-layout-postfix tag "\\context { \\Staff \\RemoveEmptyStaves}")
		(d-DirectivePut-layout-display tag (_ "Remove Empty Staves")))))
</scheme>
        <_label>(Print) Drop Empty Staves</_label>
        <_tooltip>Drops staves which have no music on any line after the first.</_tooltip>
      </row>
    </map>
  </merge>
</Denemo>
