<?xml version="1.0"?>
<Denemo>
  <merge>
    <title>A Denemo Keymap</title>
    <author>AT, JRR, RTS</author>
    <map>
      <row>
        <action>Piece</action>
        <scheme>;;;Piece
(d-LilyPondInclude "book-titling.ily")
(let ((chapter (d-DirectiveGet-movementcontrol-prefix "Piece")))
  (if (not chapter)
    (set! chapter "Movement Piece"))
  (set! chapter (d-GetUserInput "Movement Piece" "Give a name for this piece of the current movement" chapter))
  (if chapter
    (begin
      (d-SetSaved #f)
      (d-DirectivePut-movementcontrol-prefix "Piece" (string-append "\\piece \"" chapter "\"\n")))
    (d-WarningDialog "Movement Piece unchanged")))
</scheme>
        <label>Piece</label>
        <tooltip>Prints a piece name for the Movement</tooltip>
      </row>
    </map>
  </merge>
</Denemo>
