<?xml version="1.0"?>
<Denemo>
  <merge>
    <title>A Denemo Keymap</title>
    <author>AT, JRR, RTS</author>
    <map>
      <row>
        <after>MovementPageBreak</after>
        <action>Custos</action>
        <scheme>;;;Custos
(let ((tag "Custos"))
 	(if (d-Directive-layout? tag)
 		(begin
 			(d-DirectiveDelete-layout tag)
 			(d-InfoDialog "Custos now turned off"))
 		(begin
 		(d-DirectivePut-layout-postfix tag 
" \\context {
      \\Staff
      \\consists \"Custos_engraver\"
      \\override Custos #'style = #'mensural
    }"))))</scheme>
        <label>Custos (On/Off)</label>
        <tooltip>Prints a custos at the end of each line for the current movement. Repeat command to turn custos off.</tooltip>
      </row>
    </map>
  </merge>
</Denemo>
